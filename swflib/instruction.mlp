open Base
open Bytes
open ISpec

type t = [
#include "opcode.h"
]
and class_ = t ISpec.class_
and method_ = t ISpec.method_

let default : t ISpec.t = {
  op=0;
  args=const [];
  prefix=const [];
  const=[];
  method_  = None;
  class_ = None;
  stack=0;
  scope=0;
  count=0;
}

let cindex entry ctx =
  u30 (Cpool.index entry ctx#cpool)

let entry name =
  (name :> Cpool.entry)

let spec =
#include "match_body.h"
