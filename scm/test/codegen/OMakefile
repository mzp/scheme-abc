# Build an OCaml program
OCAMLINCLUDES += $(SRC)/codegen/
OUNIT_SRC_DIR=$(SRC)/codegen/

OUNIT_LIBS+=astUtil

OUnitTest(bytes        , bytes label)
OUnitTest(abc          , abc label bytes)
OUnitTest(revList      , revList)
OUnitTest(cpool        , cpool abc revList label bytes)
OUnitTest(closureTrans , closureTrans module)
OUnitTest(asm          , asm abc label revList cpool bytes instruction)
OUnitTest(codegenExpr  , codegen label cpool asm bytes revList instruction)
OUnitTest(codegenStmt  , codegen label cpool asm bytes revList instruction)
OUnitTest(codegenClass , codegen label cpool asm bytes revList instruction)
OUnitTest(override     , override binding module)

# PHONY Target
.PHONY: clean check
.DEFAULT: check
clean:
	ocaml-clean
