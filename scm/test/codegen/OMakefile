# Build an OCaml program
OCAMLINCLUDES += $(SRC)/codegen/
OUNIT_SRC_DIR=$(SRC)/codegen/

OUNIT_LIBS+=astUtil

OUnitTest(bytes        , bytes label)
OUnitTest(abc          , abc label bytes)
OUnitTest(revList      , revList)
OUnitTest(cpool        , cpool revList)
OUnitTest(closureTrans , closureTrans module)
OUnitTest(asm          , asm cpool revList bytes)
OUnitTest(codegenExpr  , codegen label iSpec)
OUnitTest(codegenStmt  , codegen label iSpec)
OUnitTest(codegenClass , codegen label iSpec)
OUnitTest(override     , override binding module)
OUnitTest(module       , module)
OUnitTest(binding      , binding module)

# PHONY Target
.PHONY: clean check
.DEFAULT: check
clean:
	ocaml-clean
