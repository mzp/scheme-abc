.PHONY: clean check

SRC=$(absname ../src)

OCAMLPACKS[] =
    str
    oUnit
    extlib

OCAMLINCLUDES += $(ROOT)/base/
OCAML_LIBS    += $(ROOT)/base/base

OCAMLINCLUDES += $(SRC)/type/
OCAML_LIBS    += $(SRC)/type/type


.SUBDIRS: codegen filter type parser

OCAMLINCLUDES += $(SRC)
################################################
# Build an OCaml program
#

FILES[] =
	baseTest
	hListTest
	interCodeTest

E[]=
OUnitTest(base,$(E))
OUnitTest(hList,$(E))
OUnitTest(interCode,interCode)
#############################################################
#
# PHONY Target
#
.DEFAULT: check


clean:
	ocaml-clean
