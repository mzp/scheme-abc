.PHONY: clean

OCAMLPACKS[] =
     extlib

UseCamlp4(pa_oo)

FILES[] =
	parsec
	lexer
	sexp
	lisp
	main

PROGRAM = ../parser
OCAMLOPT   = ocamlopt -for-pack $(capitalize $(basename $(PROGRAM)))
OCAMLOPTLINK  = ocamlopt
CPPFLAGS+=-I../type

OCamlPackage($(PROGRAM), $(FILES))
OCamlLibrary(parser, $(FILES))

.DEFAULT: $(PROGRAM).cmo $(PROGRAM).cmx

clean:
	ocaml-clean closTrans.mli
