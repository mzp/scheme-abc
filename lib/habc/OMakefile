.PHONY: lib clean

FILES[] =
	stub
	flash
	std

LIBS=$(addsuffix .ho,$(FILES))
.DEFAULT: $(LIBS)

lib: $(LIBS)

%.ho : %.scm $(ROOT)/habc$(EXE) $(ROOT)/habc-scm$(EXE)
	$(ROOT)/habc$(EXE) --scm=$(absname $(ROOT)/habc-scm$(EXE)) -I . -c $<

clean:
	ocaml-clean *.ho

flash.ho : stub.ho
std.ho   : stub.ho
